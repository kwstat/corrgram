<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Draw a correlogram — corrgram • corrgram</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Draw a correlogram — corrgram" />
<meta property="og:description" content="The corrgram function produces a graphical display of a correlation matrix,
called a correlogram.  The cells of the matrix can be shaded or colored to
show the correlation value." />
<meta property="og:image" content="/logo.png" />
<meta name="twitter:card" content="summary" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">corrgram</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.14</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/corrgram_cov2cor.html">Finding the nearest proper correlation matrix</a>
    </li>
    <li>
      <a href="../articles/corrgram_examples.html">Examples for the corrgram package</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Draw a correlogram</h1>
    
    <div class="hidden name"><code>corrgram.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>The corrgram function produces a graphical display of a correlation matrix,
called a correlogram.  The cells of the matrix can be shaded or colored to
show the correlation value.</p>
    </div>

    <pre class="usage"><span class='fu'>corrgram</span>(<span class='no'>x</span>, <span class='kw'>type</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>order</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='no'>labels</span>, <span class='kw'>panel</span> <span class='kw'>=</span> <span class='no'>panel.shade</span>,
  <span class='kw'>lower.panel</span> <span class='kw'>=</span> <span class='no'>panel</span>, <span class='kw'>upper.panel</span> <span class='kw'>=</span> <span class='no'>panel</span>, <span class='kw'>diag.panel</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>text.panel</span> <span class='kw'>=</span> <span class='no'>textPanel</span>, <span class='kw'>label.pos</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>0.5</span>, <span class='fl'>0.5</span>), <span class='kw'>label.srt</span> <span class='kw'>=</span> <span class='fl'>0</span>,
  <span class='kw'>cex.labels</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>font.labels</span> <span class='kw'>=</span> <span class='fl'>1</span>, <span class='kw'>row1attop</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>dir</span> <span class='kw'>=</span> <span class='st'>""</span>,
  <span class='kw'>gap</span> <span class='kw'>=</span> <span class='fl'>0</span>, <span class='kw'>abs</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>col.regions</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/grDevices/colorRamp.html'>colorRampPalette</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"red"</span>,
  <span class='st'>"salmon"</span>, <span class='st'>"white"</span>, <span class='st'>"royalblue"</span>, <span class='st'>"navy"</span>)), <span class='kw'>cor.method</span> <span class='kw'>=</span> <span class='st'>"pearson"</span>,
  <span class='kw'>outer.labels</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='no'>...</span>)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p>A <em>tall</em> data frame with one observation per row, or a
correlation matrix.</p></td>
    </tr>
    <tr>
      <th>type</th>
      <td><p>Use 'data' or 'cor'/'corr' to explicitly specify that 'x' is
data or a correlation matrix.  Rarely needed.</p></td>
    </tr>
    <tr>
      <th>order</th>
      <td><p>Should variables be re-ordered?  Use TRUE or "PCA" for PCA-based
re-ordering.  
If the 'seriation' package is loaded, this can also be set to "OLO" for optimal
leaf ordering, "GW", and "HC".</p></td>
    </tr>
    <tr>
      <th>labels</th>
      <td><p>Labels to use (instead of data frame variable names) for
diagonal panels. If 'order' option is used, this vector of labels will be
also be appropriately reordered by the function.</p></td>
    </tr>
    <tr>
      <th>panel</th>
      <td><p>Function used to plot the contents of each panel.</p></td>
    </tr>
    <tr>
      <th>lower.panel, upper.panel</th>
      <td><p>Separate panel functions used below/above the
diagonal.</p></td>
    </tr>
    <tr>
      <th>diag.panel, text.panel</th>
      <td><p>Panel function used on the diagonal.</p></td>
    </tr>
    <tr>
      <th>label.pos</th>
      <td><p>Horizontal and vertical placement of label in diagonal
panels.</p></td>
    </tr>
    <tr>
      <th>label.srt</th>
      <td><p>String rotation for diagonal labels.</p></td>
    </tr>
    <tr>
      <th>cex.labels, font.labels</th>
      <td><p>Graphics parameter for diagonal panels.</p></td>
    </tr>
    <tr>
      <th>row1attop</th>
      <td><p>TRUE for diagonal like " \ ", FALSE for diagonal like " / ".</p></td>
    </tr>
    <tr>
      <th>dir</th>
      <td><p>Use <code>dir="left"</code> instead of 'row1attop'.</p></td>
    </tr>
    <tr>
      <th>gap</th>
      <td><p>Distance between panels.</p></td>
    </tr>
    <tr>
      <th>abs</th>
      <td><p>Use absolute value of correlations for clustering?  Default FALSE.</p></td>
    </tr>
    <tr>
      <th>col.regions</th>
      <td><p>A <em>function</em> returning a vector of colors.</p></td>
    </tr>
    <tr>
      <th>cor.method</th>
      <td><p>Correlation method to use in panel functions.  Default is
'pearson'.  Alternatives: 'spearman', 'kendall'.</p></td>
    </tr>
    <tr>
      <th>outer.labels</th>
      <td><p>A list of the form 'list(bottom,left,top,right)'.
If 'bottom=TRUE' (for example), variable labels are added along the
bottom outside edge.</p>
<p>For more control, use 'bottom=list(labels,cex,srt,adj)', where 'labels' is a vector
of variable labels, 'cex' affects the size, 'srt' affects the rotation, and 'adj'
affects the adjustment of the labels.
Defaults: 'labels' uses column names; cex=1';
'srt=90' (bottom/top), 'srt=0' (left/right);
'adj=1' (bottom/left), 'adj=0' (top/right).</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Additional arguments passed to plotting methods.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>The correlation matrix used for plotting is returned. The 'order' and 'abs'
arguments affect the returned value.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>Note: Use the 'col.regions' argument to specify colors.</p>
<p>Non-numeric columns in the data will be ignored.</p>
<p>The off-diagonal panels are specified with <code>panel.pts</code>,
<code>panel.pie</code>, <code>panel.shade</code>, <code>panel.fill</code>, `<code>panel.bar</code>,
<code>panel.ellipse</code>, <code>panel.conf</code>. <code>panel.cor</code>.</p>
<p>Diagonal panels are specified with <code>panel.txt</code>, <code>panel.minmax</code>,
<code>panel.density</code>.</p>
<p>Use a NULL panel to omit drawing the panel.</p>
<p>This function is basically a modification of the <code>pairs.default</code>
function with the use of customized panel functions.</p>
<p>The panel.conf function uses <code>cor.test</code> and calculates pearson
correlations.  Confidence intervals are not available in <code>cor.test</code> for
other methods (kendall, spearman).</p>
<p>You can create your own panel functions by starting with one of the included
panel functions and making suitable modifications.  Note that because of the
way the panel functions are called inside the main function, your custom
panel function must include the arguments shown in the <code>panel.pts</code>
function, even if the custom panel function does not use those arguments!</p>
<p>TODO: legend, grid graphics version.</p>
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>Friendly, Michael.  2002.  Corrgrams: Exploratory Displays for
Correlation Matrices.  <em>The American Statistician</em>, 56, 316--324.
<a href='http://datavis.ca/papers/corrgram.pdf'>http://datavis.ca/papers/corrgram.pdf</a></p>
<p>D. J. Murdoch and E. D. Chow. 1996. A Graphical Display of Large Correlation
Matrices.  The American Statistician, 50, 178-180.</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'>
<span class='co'># To reproduce the figures in Michael Friendly's paper, see the</span>
<span class='co'># vignette, or see the file 'friendly.r' in this package's</span>
<span class='co'># test directory.</span>

<span class='co'># Demonstrate density panel, correlation confidence panel</span>
<span class='fu'>corrgram</span>(<span class='no'>iris</span>, <span class='kw'>lower.panel</span><span class='kw'>=</span><span class='no'>panel.pts</span>, <span class='kw'>upper.panel</span><span class='kw'>=</span><span class='no'>panel.conf</span>,
         <span class='kw'>diag.panel</span><span class='kw'>=</span><span class='no'>panel.density</span>)</div><div class='img'><img src='corrgram-1.png' alt='' width='700' height='433' /></div><div class='input'>
<span class='co'># Demonstrate panel.shade, panel.pie, principal component ordering</span>
<span class='no'>vars2</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"Assists"</span>,<span class='st'>"Atbat"</span>,<span class='st'>"Errors"</span>,<span class='st'>"Hits"</span>,<span class='st'>"Homer"</span>,<span class='st'>"logSal"</span>,
           <span class='st'>"Putouts"</span>,<span class='st'>"RBI"</span>,<span class='st'>"Runs"</span>,<span class='st'>"Walks"</span>,<span class='st'>"Years"</span>)
<span class='fu'>corrgram</span>(<span class='no'>baseball</span>[<span class='no'>vars2</span>], <span class='kw'>order</span><span class='kw'>=</span><span class='fl'>TRUE</span>, <span class='kw'>main</span><span class='kw'>=</span><span class='st'>"Baseball data PC2/PC1 order"</span>,
         <span class='kw'>lower.panel</span><span class='kw'>=</span><span class='no'>panel.shade</span>, <span class='kw'>upper.panel</span><span class='kw'>=</span><span class='no'>panel.pie</span>)</div><div class='img'><img src='corrgram-2.png' alt='' width='700' height='433' /></div><div class='input'>
<span class='co'># CAUTION: The latticeExtra package also has a 'panel.ellipse' function</span>
<span class='co'># that clashes with the same-named function in corrgram. In order to use</span>
<span class='co'># the right one, the example below uses 'lower.panel=corrgram::panel.ellipse'.</span>
<span class='co'># If you do not have latticeExtra loaded, you can just use</span>
<span class='co'># 'lower.panel=panel.ellipse'.</span>

<span class='co'># Demonstrate panel.bar, panel.ellipse, panel.minmax, col.regions</span>
<span class='fu'>corrgram</span>(<span class='no'>auto</span>, <span class='kw'>order</span><span class='kw'>=</span><span class='fl'>TRUE</span>, <span class='kw'>main</span><span class='kw'>=</span><span class='st'>"Auto data (PC order)"</span>,
         <span class='kw'>lower.panel</span><span class='kw'>=</span><span class='kw pkg'>corrgram</span><span class='kw ns'>::</span><span class='no'><a href='https://rdrr.io/pkg/corrgram/man/corrgram.html'>panel.ellipse</a></span>,
         <span class='kw'>upper.panel</span><span class='kw'>=</span><span class='no'>panel.bar</span>, <span class='kw'>diag.panel</span><span class='kw'>=</span><span class='no'>panel.minmax</span>,
         <span class='kw'>col.regions</span><span class='kw'>=</span><span class='fu'><a href='https://rdrr.io/r/grDevices/colorRamp.html'>colorRampPalette</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"darkgoldenrod4"</span>, <span class='st'>"burlywood1"</span>,
                                        <span class='st'>"darkkhaki"</span>, <span class='st'>"darkgreen"</span>)))</div><div class='img'><img src='corrgram-3.png' alt='' width='700' height='433' /></div><div class='input'>
<span class='co'># 'vote' is a correlation matrix, not a data frame</span>
<span class='fu'>corrgram</span>(<span class='no'>vote</span>, <span class='kw'>order</span><span class='kw'>=</span><span class='fl'>TRUE</span>, <span class='kw'>upper.panel</span><span class='kw'>=</span><span class='no'>panel.cor</span>)</div><div class='img'><img src='corrgram-4.png' alt='' width='700' height='433' /></div><div class='input'>

<span class='co'># outer labels, all options, larger margins, xlab, ylab</span>
<span class='no'>labs</span><span class='kw'>=</span><span class='fu'><a href='https://rdrr.io/r/base/colnames.html'>colnames</a></span>(<span class='no'>state.x77</span>)
<span class='fu'>corrgram</span>(<span class='no'>state.x77</span>, <span class='kw'>oma</span><span class='kw'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>7</span>, <span class='fl'>7</span>, <span class='fl'>2</span>, <span class='fl'>2</span>),
         <span class='kw'>outer.labels</span><span class='kw'>=</span><span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(<span class='kw'>bottom</span><span class='kw'>=</span><span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(<span class='kw'>labels</span><span class='kw'>=</span><span class='no'>labs</span>,<span class='kw'>cex</span><span class='kw'>=</span><span class='fl'>1.5</span>,<span class='kw'>srt</span><span class='kw'>=</span><span class='fl'>60</span>),
                           <span class='kw'>left</span><span class='kw'>=</span><span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(<span class='kw'>labels</span><span class='kw'>=</span><span class='no'>labs</span>,<span class='kw'>cex</span><span class='kw'>=</span><span class='fl'>1.5</span>,<span class='kw'>srt</span><span class='kw'>=</span><span class='fl'>30</span>,<span class='kw'>adj</span><span class='kw'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>1</span>,<span class='fl'>0</span>))))</div><div class='input'><span class='fu'><a href='https://rdrr.io/r/graphics/mtext.html'>mtext</a></span>(<span class='st'>"Bottom"</span>, <span class='kw'>side</span><span class='kw'>=</span><span class='fl'>1</span>, <span class='kw'>cex</span><span class='kw'>=</span><span class='fl'>2</span>, <span class='kw'>line</span> <span class='kw'>=</span> -<span class='fl'>1.5</span>, <span class='kw'>outer</span><span class='kw'>=</span><span class='fl'>TRUE</span>, <span class='kw'>xpd</span><span class='kw'>=</span><span class='fl'>NA</span>)</div><div class='input'><span class='fu'><a href='https://rdrr.io/r/graphics/mtext.html'>mtext</a></span>(<span class='st'>"Left"</span>, <span class='kw'>side</span><span class='kw'>=</span><span class='fl'>2</span>, <span class='kw'>cex</span><span class='kw'>=</span><span class='fl'>2</span>, <span class='kw'>line</span> <span class='kw'>=</span> -<span class='fl'>1.5</span>, <span class='kw'>outer</span><span class='kw'>=</span><span class='fl'>TRUE</span>, <span class='kw'>xpd</span><span class='kw'>=</span><span class='fl'>NA</span>)</div><div class='img'><img src='corrgram-5.png' alt='' width='700' height='433' /></div><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      <li><a href="#value">Value</a></li>
      <li><a href="#details">Details</a></li>
      <li><a href="#references">References</a></li>
      <li><a href="#examples">Examples</a></li>
    </ul>

    <h2>Author</h2>
    <p>Kevin Wright</p>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Kevin Wright.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.0.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


